<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Prevent indexing and archiving (remove this when going live) -->
<meta name="robots" content="noindex, nofollow, noarchive">

<!-- primary meta tags -->
<title>press for goblins</title>
<meta name="title" content="press for goblins">
<meta name="description" content="london-based editorial and creative workshop for authors who write speculative and strange. science fiction, fantasy, horror, romance.">
<meta name="keywords" content="london book editor, uk editor, british editor, developmental editing, structural editing, copyediting, line editing, manuscript editing, publishing consultant, literary agent, big four publisher, noah grey, press for goblins">
<link rel="canonical" href="https://pressforgoblins.com/">

<!-- open graph / facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://pressforgoblins.com/">
<meta property="og:title" content="press for goblins">
<meta property="og:description" content="london-based editorial and creative workshop for authors who write speculative and strange. science fiction, fantasy, horror, romance.">
<meta property="og:image" content="https://pressforgoblins.com/images/og-image.png">

<!-- twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://pressforgoblins.com/">
<meta property="twitter:title" content="press for goblins">
<meta property="twitter:description" content="london-based editorial and creative workshop for authors who write speculative and strange. science fiction, fantasy, horror, romance.">
<meta property="twitter:image" content="https://pressforgoblins.com/images/og-image.png">

<!-- Schema.org Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ProfessionalService",
  "name": "press for goblins",
  "alternateName": "noah grey editorial services",
  "description": "london-based editorial services specialising in developmental editing, structural editing, copyediting, manuscript assessment, publishing strategy and uk literary agent guidance.",
  "url": "https://pressforgoblins.com",
  "logo": "https://pressforgoblins.com/images/logo.png",
  "image": "https://pressforgoblins.com/images/og-image.png",
  "founder": {
    "@type": "Person",
    "name": "noah grey",
    "jobTitle": "editor and publishing consultant",
    "description": "publishing professional with 5 years experience at a big four publishing house"
  },
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "london",
    "addressCountry": "gb"
  },
  "areaServed": {
    "@type": "Country",
    "name": "united kingdom"
  },
  "serviceType": [
    "developmental editing",
    "structural editing",
    "copy editing",
    "line editing",
    "manuscript assessment",
    "publishing strategy",
    "marketing consultation",
    "back cover copy",
    "positioning strategy",
    "uk literary agent guidance"
  ],
  "slogan": "just press for goblins"
}
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Service",
  "serviceType": "Editorial Vibe Check",
  "provider": {
    "@type": "LocalBusiness",
    "name": "press for goblins",
    "image": "https://pressforgoblins.com/images/og-image.png"
  },
  "description": "A free 15-minute consultation to ensure our madness aligns with your genius.",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "GBP"
  }
}
</script>

<!-- Font preload for performance -->
<link rel="preload" href="fonts/PressStart2P-Regular.woff2?v=30" as="font" type="font/woff2" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">

<style>
@font-face {
  font-family: 'PressStart2P';
  src: url('fonts/PressStart2P-Regular.woff2?v=30') format('woff2'),
       url('fonts/PressStart2P-Regular.woff?v=30') format('woff'),
       url('fonts/PressStart2P-Regular.ttf?v=30') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  margin: 0;
  min-height: 100vh;
  background: #000;
  font-family: 'Space Mono', 'Courier New', monospace;
  color: #888;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  padding: calc(4rem + env(safe-area-inset-top)) 1.5rem calc(7rem + env(safe-area-inset-bottom)) 1.5rem;
}

body::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: linear-gradient(to top, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0.05) 80%, rgba(255,255,255,0) 100%);
  animation: verticalGlow 25s linear infinite;
}

@keyframes verticalGlow {
  0% { transform: translateY(110%); opacity: 0.35; }
  50% { opacity: 0.6; }
  100% { transform: translateY(-110%); opacity: 0.35; }
}

body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background: repeating-linear-gradient(rgba(255,255,255,0.02) 0px, rgba(255,255,255,0.02) 1px, transparent 1px, transparent 3px);
  opacity: 0.15;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

h1, h2, h3 {
  font-family: 'PressStart2P', monospace;
  color: #888;
  font-weight: normal;
  line-height: 1.6;
  margin-bottom: 1.5rem;
  animation: letterJitter 1.5s infinite alternate ease-in-out;
}

@keyframes letterJitter {
  0%, 100% { transform: translateX(0); }
  50% { transform: translateX(1px); }
}

h1 {
  font-size: clamp(1.2rem, 4vw, 1.8rem);
  margin-bottom: 1rem;
  color: #7bbf7b;
}

h2 {
  font-size: clamp(1rem, 3.5vw, 1.4rem);
  margin-top: 2rem;
  margin-bottom: 1rem;
  color: #7bbf7b;
}

h3 {
  font-size: clamp(0.75rem, 2.5vw, 0.95rem);
  margin-top: 0;
  margin-bottom: 0.5rem;
  color: rgba(255, 255, 255, 0.7);
}

.quest-item h3 {
  color: #7bbf7b;
}

.service-tag {
  color: #888;
  font-weight: normal;
}

p, li {
  font-size: clamp(0.9rem, 2.8vw, 1rem);
  line-height: 1.9;
  margin-bottom: 1rem;
  color: rgba(255, 255, 255, 0.85);
}

.hero {
  text-align: center;
  margin-bottom: 2.5rem;
}

.hero h1 {
  margin-bottom: 1.5rem;
}

.hero p {
  font-size: clamp(0.85rem, 2.8vw, 0.95rem);
}

.hero .editors-note {
  font-size: clamp(0.75rem, 2.5vw, 0.85rem);
  color: #7bbf7b;
  font-style: italic;
  margin-top: 1.5rem;
}

/* green pen stroke effect */
.strikethrough {
  position: relative;
  display: inline-block;
  color: rgba(255, 255, 255, 0.85);
  transition: color 0.3s ease;
}

.strikethrough::after {
  content: "";
  position: absolute;
  left: -2px;
  top: 50%;
  width: 0;
  height: 3px;
  background: #7bbf7b;
  transform: rotate(-5deg);
  transition: width 0.4s cubic-bezier(0.65, 0, 0.35, 1);
}

.strikethrough.active::after {
  width: calc(100% + 4px);
}

/* the 'i' cursor effect */
#new-subject {
  display: inline-block;
  color: rgba(255, 255, 255, 0.85);
  min-width: 1ch;
}

.cursor {
  display: inline-block;
  width: 2px;
  background-color: #7bbf7b;
  margin-left: 2px;
  animation: blink 0.7s infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.section {
  margin-bottom: 2.5rem;
}

.crew-grid {
  display: grid;
  gap: 2rem;
  margin-top: 2rem;
}

.crew-member {
  padding: 0;
}

.crew-member h3 {
  color: #7bbf7b;
}

.crew-member p {
  margin-top: 0.5rem;
}

/* quest map */
.quest-map {
  position: relative;
  margin: 1rem 0 0 0;
  display: flex;
  flex-direction: column;
}

.quest-line-svg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  overflow: visible;
}

.quest-line-path {
  fill: none;
  stroke: #7bbf7b;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 6 6;
  opacity: 0.4;
}

/* waypoint dots at corners */
.waypoint-dot {
  fill: #7bbf7b;
  opacity: 1;
  filter: drop-shadow(0 0 5px rgba(123, 191, 123, 0.6));
}

/* tracker container */
#goblinContainer {
  position: absolute;
  z-index: 10;
  pointer-events: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  transform: translate(-50%, -50%);
}

@keyframes youFloat {
  0%, 100% { transform: rotate(-8deg) translateY(0); }
  50% { transform: rotate(-8deg) translateY(-2px); }
}

.pixel-arrow {
  width: 12px;
  height: 12px;
  fill: #7bbf7b;
  opacity: 0.8;
  transform: rotate(-15deg);
}

#goblinTracker {
  width: 36px;
  height: 36px;
  transition: transform 0.1s;
}

#goblinTracker svg {
  width: 100%;
  height: 100%;
  image-rendering: pixelated;
  display: block;
}

/* bounce animation */
@keyframes goblinBob {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

.goblin-walking {
  animation: goblinBob 0.2s infinite;
}

.quest-item {
  position: relative;
  width: 45%;
  margin-bottom: 4rem;
  z-index: 1;
}

.quest-item:nth-child(odd) {
  align-self: flex-start;
  text-align: right;
  padding-right: 1rem;
}

.quest-item:nth-child(even) {
  align-self: flex-end;
  text-align: left;
  padding-left: 1rem;
}

.quest-item h3 {
  color: #7bbf7b;
  margin-bottom: 0.25rem;
  font-size: clamp(0.85rem, 2.8vw, 1.05rem);
}

.quest-item .service-tag {
  display: block;
  color: #888;
  font-size: clamp(0.75rem, 2.5vw, 0.9rem);
  margin-bottom: 0.5rem;
  font-family: 'PressStart2P', monospace;
}

.quest-tag {
  display: block;
  font-family: 'PressStart2P', monospace;
  font-size: 0.65rem;
  color: rgba(255, 255, 255, 0.6);
  margin-bottom: 0.5rem;
  margin-top: 0.25rem;
}

.quest-pricing {
  text-align: center;
  margin-top: 1rem;
  padding: 0 1rem;
  font-size: clamp(0.9rem, 2.8vw, 1rem);
  line-height: 1.7;
  opacity: 0.9;
}

/* genre list */
.genre-list {
  margin-top: 2rem;
}

.genre-list p {
  font-size: clamp(0.9rem, 2.8vw, 1rem);
  line-height: 2;
  color: rgba(255, 255, 255, 0.85);
}

.genre-avoid {
  margin-top: 2rem;
  padding: 0;
}

.genre-avoid p {
  color: rgba(255, 255, 255, 0.7);
}

.philosophy-box {
  padding: 0;
  margin-top: 2rem;
}

.philosophy-box strong {
  color: #7bbf7b;
  font-weight: 700;
}

.cta {
  text-align: center;
  margin-top: 2rem;
  padding: 0 0 4rem 0;
  position: relative;
}

.cta .cta-link {
  text-decoration: none;
  display: block;
  transition: all 0.2s ease;
}

.cta .cta-link:hover h2 {
  text-shadow: 0 0 8px rgba(123, 191, 123, 0.6);
}

.cta h2 {
  margin-top: 0.5rem;
  color: #7bbf7b;
  font-family: 'PressStart2P', monospace;
}

.footer-nav {
  position: fixed;
  bottom: calc(1.5rem + env(safe-area-inset-bottom));
  width: 100%;
  display: flex;
  justify-content: space-around;
  padding: 0 2rem;
  max-width: 600px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 3;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

.nav-shadow {
  position: fixed;
  bottom: -50px;
  left: 0;
  width: 100%;
  height: 200px;
  background: linear-gradient(to bottom, transparent, rgba(13, 13, 13, 0.95) 60%, #0d0d0d);
  z-index: 2;
  pointer-events: none;
}

.footer-nav.hidden {
  transform: translateX(-50%) translateY(100px);
  opacity: 0;
}

.footer-nav .nav-item {
  position: relative;
  display: inline-block;
}

.footer-nav a {
  display: block;
  transition: transform 0.2s ease, filter 0.2s ease;
}

.footer-nav a:hover {
  transform: scale(1.1);
  filter: drop-shadow(0 0 8px rgba(123, 191, 123, 0.6));
}

.footer-nav img {
  width: 48px;
  height: 48px;
  display: block;
  opacity: 0.9;
  transition: transform 0.2s ease, filter 0.2s ease;
}

.footer-nav img.home {
  cursor: default;
  pointer-events: none;
}

.footer-nav .active-dot {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #7bbf7b;
  box-shadow: 0 0 6px #7bbf7b;
  bottom: -0.5rem;
  left: 50%;
  transform: translateX(-50%);
}

@media(max-width: 600px) {
  .quest-line-svg {
    display: block !important;
    overflow: visible;
  }
  
  #goblinContainer {
    display: block;
    position: absolute;
    left: 15px;
    z-index: 2;
    transition: top 0.1s ease-out;
  }
  
  .quest-map {
    padding-left: 3rem;
    margin-left: 1rem;
  }
  
  .quest-item {
    width: 100%;
    margin-left: 0 !important;
    margin-right: 0 !important;
    text-align: left !important;
    padding-left: 3rem !important;
    padding-right: 0 !important;
    margin-bottom: 3rem !important;
    border-left: none !important;
    position: relative;
  }
  
  .footer-nav img {
    width: 44px;
    height: 44px;
  }
  
  .footer-nav {
    padding: 0 1rem;
  }
}
</style>
</head>
<body>

<div class="container">
  <div class="hero">
    <h1>definitely not three goblins in a trenchcoat</h1>
    <p>yes hello this is noah. please ignore the shifting height. nothing to see here. <span id="subject" class="strikethrough">we</span><span id="new-subject"></span> run an editorial and creative outfit out of a dimly-lit, well-guarded workshop in london for authors who write speculative and strange. 5+ years big four publishing experience and counting. applying industry grit to stress-test your manuscript or creative project and ensure it's ready to cause trouble in the market.</p>
  </div>

  <div class="section crew-section">
    <div class="crew-grid">
      <div class="crew-member">
        <h3>editorial goblin</h3>
        <p>sharpens what's already there. refines pacing, character arcs, tension, stakes, themes and emotion to make sure your story feels right. spots plot holes before they swallow your manuscript. handles the practical stuff: developmental editing, copyediting, line editing, proofreading and second reading.</p>
      </div>
      <div class="crew-member">
        <h3>creative goblin</h3>
        <p>brings fresh ideas, new angles and the momentum you need when you're stuck. plot twists, new characters, hooks and possibilities you never saw coming. might ask bizarre questions at you until something clicks. always curious, always enthusiastic.</p>
      </div>
      <div class="crew-member">
        <h3>marketing goblin</h3>
        <p>knows what agents and publishers want to see and what the market is hungry for. pitches, straplines, brand identity and positioning. makes projects impossible to ignore. his one-liners hit like a well-aimed goblin brick.</p>
      </div>
    </div>
  </div>

  <div class="section">
    <h2>we're hungry for</h2>
    <div class="genre-list" style="margin-top: 0;">
      <p>• speculative fiction, especially sci-fi, fantasy, horror, romance and genre blends<br>
      • graphic novels and comic books<br>
      • video games: character, narrative design, dialogue, environmental storytelling<br>
      • lore: technical and worldbuilding guides for board and card games<br>
      • other creative projects that can't fit into a neat list of bulletpoints</p>
    </div>
    
    <div class="genre-avoid">
      <p>note: the goblins cannot digest literary fiction, poetry or non-fiction.</p>
    </div>
  </div>

  <div class="section">
    <h2 style="margin-bottom: 2rem;">where are you on the timeline?</h2>
    
    <div class="quest-map" id="questMap">
      <svg class="quest-line-svg">
        <path class="quest-line-path" id="questPath" d="" />
      </svg>
      
      <div id="goblinContainer">
        <div id="goblinTracker">
          <!-- goblin facing right (original) -->
          <svg id="goblinRight" viewBox="0 0 16 16" shape-rendering="crispEdges">
            <!-- head (slightly turned) -->
            <path fill="#7bbf7b" d="M6 1h5v1H6z"/>
            <path fill="#7bbf7b" d="M5 2h6v1H5z"/>
            <path fill="#7bbf7b" d="M5 3h7v2H5z"/>
            
            <!-- left ear (visible) -->
            <path fill="#7bbf7b" d="M3 3h2v2H3z"/>
            <path fill="#5a9d5a" d="M3 4h1v1H3z"/>
            
            <!-- eyes (facing right) -->
            <path fill="#000" d="M7 3h1v1H7zM10 3h1v1h-1z"/>
            
            <!-- nose/mouth -->
            <path fill="#5a9d5a" d="M9 4h2v1H9z"/>
            
            <!-- huge circular rounded sack backpack -->
            <path fill="#8B4513" d="M1 5h4v1H1z"/>
            <path fill="#8B4513" d="M0 6h5v1H0z"/>
            <path fill="#8B4513" d="M0 7h5v3H0z"/>
            <path fill="#8B4513" d="M1 10h4v1H1z"/>
            <!-- sack texture - horizontal fabric bands/folds -->
            <path fill="#654321" d="M1 6h4v1H1z"/>
            <path fill="#654321" d="M0 9h5v1H0z"/>
            
            <!-- body (connects to backpack) -->
            <path fill="#7bbf7b" d="M5 5h6v1H5z"/>
            <path fill="#7bbf7b" d="M5 6h6v4H5z"/>
            <path fill="#5a9d5a" d="M6 7h4v1H6z"/>
            
            <!-- diagonal cross-body strap (more horizontal, covers body) -->
            <path fill="#654321" d="M5 5h1v1H5z"/>
            <path fill="#654321" d="M6 6h2v1H6z"/>
            <path fill="#654321" d="M8 7h2v1H8z"/>
            <path fill="#654321" d="M10 8h1v1h-1z"/>
            
            <!-- left arm horizontal (covers part of strap) -->
            <path fill="#7bbf7b" d="M4 7h2v2H4z"/>
            
            <!-- right arm -->
            <path fill="#7bbf7b" d="M11 6h1v2h-1z"/>
            
            <!-- legs straight down with slight taper at bottom, angled back slightly -->
            <path fill="#7bbf7b" d="M6 10h2v1H6z"/>
            <path fill="#7bbf7b" d="M6 11h1v1H6z"/>
            <path fill="#7bbf7b" d="M6 12h1v1H6z"/>
            <path fill="#7bbf7b" d="M9 10h2v1H9z"/>
            <path fill="#7bbf7b" d="M9 11h1v1H9z"/>
            <path fill="#7bbf7b" d="M9 12h1v1H9z"/>
          </svg>
          
          <!-- goblin facing left (mirrored) -->
          <svg id="goblinLeft" viewBox="0 0 16 16" shape-rendering="crispEdges" style="display:none;">
            <!-- head (slightly turned left) -->
            <path fill="#7bbf7b" d="M5 1h5v1H5z"/>
            <path fill="#7bbf7b" d="M5 2h6v1H5z"/>
            <path fill="#7bbf7b" d="M4 3h7v2H4z"/>
            
            <!-- right ear (visible when facing left) -->
            <path fill="#7bbf7b" d="M11 3h2v2h-2z"/>
            <path fill="#5a9d5a" d="M12 4h1v1h-1z"/>
            
            <!-- eyes (facing left) -->
            <path fill="#000" d="M5 3h1v1H5zM8 3h1v1H8z"/>
            
            <!-- nose/mouth -->
            <path fill="#5a9d5a" d="M5 4h2v1H5z"/>
            
            <!-- huge circular rounded sack backpack -->
            <path fill="#8B4513" d="M11 5h4v1h-4z"/>
            <path fill="#8B4513" d="M11 6h5v1h-5z"/>
            <path fill="#8B4513" d="M11 7h5v3h-5z"/>
            <path fill="#8B4513" d="M11 10h4v1h-4z"/>
            <!-- sack texture - horizontal fabric bands/folds -->
            <path fill="#654321" d="M11 6h4v1h-4z"/>
            <path fill="#654321" d="M11 9h5v1h-5z"/>
            
            <!-- body (connects to backpack) -->
            <path fill="#7bbf7b" d="M5 5h6v1H5z"/>
            <path fill="#7bbf7b" d="M5 6h6v4H5z"/>
            <path fill="#5a9d5a" d="M6 7h4v1H6z"/>
            
            <!-- diagonal cross-body strap (more horizontal, covers body) -->
            <path fill="#654321" d="M10 5h1v1h-1z"/>
            <path fill="#654321" d="M8 6h2v1H8z"/>
            <path fill="#654321" d="M6 7h2v1H6z"/>
            <path fill="#654321" d="M5 8h1v1H5z"/>
            
            <!-- right arm horizontal (covers middle part of strap) -->
            <path fill="#7bbf7b" d="M10 7h2v2h-2z"/>
            
            <!-- left arm -->
            <path fill="#7bbf7b" d="M4 6h1v2H4z"/>
            
            <!-- legs straight down with slight taper at bottom, angled back slightly -->
            <path fill="#7bbf7b" d="M5 10h2v1H5z"/>
            <path fill="#7bbf7b" d="M6 11h1v1H6z"/>
            <path fill="#7bbf7b" d="M6 12h1v1H6z"/>
            <path fill="#7bbf7b" d="M8 10h2v1H8z"/>
            <path fill="#7bbf7b" d="M9 11h1v1H9z"/>
            <path fill="#7bbf7b" d="M9 12h1v1H9z"/>
          </svg>
        </div>
      </div>

      <div class="quest-item">
        <h3>scouting for allies</h3>
        <span class="service-tag">[vibe check]</span>
        <p>no gold required. you'll get to meet all three goblins. we're a delight, obviously. let's talk plot, world-building, magic system design or the scenes that keep you awake.</p>
      </div>
      
      <div class="quest-item">
        <h3>exploring the map</h3>
        <span class="service-tag">[creative development]</span>
        <p>you're at the ideas and brainstorming stage. the fun part before the real pain begins. so many possibilities. you're building the world, crafting the characters, deciding on the stakes and even designing an inventive and memorable magic system. the creative goblin LOVES this stuff and will help you identify the ideas worth chasing.</p>
      </div>
      
      <div class="quest-item">
        <h3>levelling up</h3>
        <span class="service-tag">[editorial development]</span>
        <p>you're writing... and writing... and writing. this is where many give up. but not you. the editorial goblin will provide you with an editorial letter detailing what works, what doesn't (and why) and a comprehensive action plan to get your manuscript through to the other side.</p>
      </div>
      
      <div class="quest-item">
        <h3>checking stats</h3>
        <span class="service-tag">[manuscript assessment]</span>
        <p>your draft is complete. finally. you need an honest read with a focus on the current market and an understanding of what publishers - and therefore, agents - are looking for.</p>
      </div>
      
      <div class="quest-item">
        <h3>preparing for the final boss</h3>
        <span class="service-tag">[pitching and sending out]</span>
        <p>your project is ready. exciting. but are you? what's the one-liner? what are your comps? the marketing goblin helps you nail the query package so you don't fail trying to storm the gates.</p>
      </div>
    </div>
    
    <div class="quest-pricing">
      if your project doesn't fit the map, drop us a message to discuss a custom build.
    </div>
    
    <div class="quest-pricing">
      we quote based on project length and complexity. let's start with a free vibe check and we can settle on a gold payment that works for you and the goblins. creators from underrepresented backgrounds will receive a discounted rate.
    </div>
  </div>

  <div class="cta">
    <a href="contact.html" class="cta-link">
      <h2>goblins this way</h2>
    </a>
  </div>
</div>

<nav class="footer-nav" aria-label="Main navigation" data-nosnippet>
  <div class="nav-item">
    <img src="images/home.png" class="home" alt="Home - Current page">
    <div class="active-dot"></div>
  </div>
  <div class="nav-item">
    <a href="about.html" aria-label="About">
      <img src="images/about.png" alt="About">
    </a>
  </div>
  <div class="nav-item">
    <a href="contact.html" aria-label="Contact">
      <img src="images/contact.png" alt="Contact">
    </a>
  </div>
</nav>

<div class="nav-shadow"></div>

<script>
let lastScrollY = window.pageYOffset;
let scrollTimeout;
let navTimeout;
let lastNavScrollY = window.pageYOffset;

function updateQuestVisuals() {
  const path = document.getElementById('questPath');
  const items = document.querySelectorAll('.quest-item');
  const container = document.getElementById('goblinContainer');
  const tracker = document.getElementById('goblinTracker');
  const map = document.getElementById('questMap');
  const isMobile = window.innerWidth < 600;
  
  if (!path || items.length === 0) return;

  const mapRect = map.getBoundingClientRect();
  const currentScrollY = window.pageYOffset;
  let points = [];
  
  items.forEach((item, index) => {
    const h3 = item.querySelector('h3');
    const rect = h3.getBoundingClientRect();
    
    if (isMobile) {
      // mobile: straight vertical line down the left
      const x = 15;
      const y = rect.top - mapRect.top + (rect.height / 2);
      points.push({x, y});
    } else {
      // desktop: zigzag layout
      const x = (index % 2 === 0) ? rect.right - mapRect.left + 14 : rect.left - mapRect.left - 14;
      const y = rect.top - mapRect.top + 13;
      points.push({x, y});
    }
  });

  let d = `M ${points[0].x} ${points[0].y}`;
  for(let i = 1; i < points.length; i++) {
    d += ` L ${points[i].x} ${points[i].y}`;
  }
  path.setAttribute('d', d);

  // Draw waypoint dots at each corner
  const svg = document.querySelector('.quest-line-svg');
  // Remove existing dots
  svg.querySelectorAll('.waypoint-dot').forEach(dot => dot.remove());
  
  // Add dots at each point (including start and end)
  const dotRadius = 5;
  points.forEach(point => {
    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    circle.setAttribute('class', 'waypoint-dot');
    circle.setAttribute('cx', point.x);
    circle.setAttribute('cy', point.y); // No offset - same as line position
    circle.setAttribute('r', dotRadius);
    svg.appendChild(circle);
  });

  const windowHeight = window.innerHeight;
  let progress = (windowHeight / 2 - mapRect.top) / mapRect.height;
  progress = Math.max(0, Math.min(1, progress));

  const totalLength = path.getTotalLength();
  const currentDistance = progress * totalLength;
  const point = path.getPointAtLength(currentDistance);
  
  container.style.left = `${point.x}px`;
  container.style.top = `${point.y}px`;
  
  // get both sprites
  const goblinRight = document.getElementById('goblinRight');
  const goblinLeft = document.getElementById('goblinLeft');
  
  // predictive orientation - look ahead to next point
  const scrollingUp = currentScrollY < lastScrollY;
  const ahead = path.getPointAtLength(Math.min(totalLength, currentDistance + 1));
  
  let facingRight;
  if (scrollingUp) {
    facingRight = ahead.x < point.x;
  } else {
    facingRight = ahead.x > point.x;
  }
  
  if (facingRight) {
    goblinRight.style.display = 'block';
    goblinLeft.style.display = 'none';
  } else {
    goblinRight.style.display = 'none';
    goblinLeft.style.display = 'block';
  }

  tracker.classList.add('goblin-walking');
  
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(() => {
    tracker.classList.remove('goblin-walking');
  }, 100);
  
  lastScrollY = currentScrollY;
  
  // Handle nav hide/show
  const nav = document.querySelector('.footer-nav');
  clearTimeout(navTimeout);
  
  if (currentScrollY > lastNavScrollY && currentScrollY > 100) {
    // Scrolling down - hide nav
    nav.classList.add('hidden');
  } else {
    // Scrolling up - show nav
    nav.classList.remove('hidden');
  }
  
  navTimeout = setTimeout(() => {
    lastNavScrollY = currentScrollY;
  }, 100);
}

const navLinks = document.querySelectorAll('.footer-nav a');
navLinks.forEach(link => {
  link.addEventListener('click', e => {
    e.preventDefault();
    const href = link.getAttribute('href');
    document.body.style.opacity = '0';
    document.body.style.transition = 'opacity 0.15s ease-out';
    setTimeout(() => window.location.href = href, 150);
  });
});

// typewriter effect for we -> i correction
document.addEventListener('DOMContentLoaded', () => {
  const subject = document.getElementById('subject');
  const newSubject = document.getElementById('new-subject');
  
  setTimeout(() => {
    // apply green pen strike to 'we'
    subject.classList.add('active');
    
    // type 'i' one letter at a time
    const text = " i";
    let i = 0;
    
    const typewriter = setInterval(() => {
      newSubject.textContent += text[i];
      i++;
      if (i >= text.length) clearInterval(typewriter);
    }, 150);
    
  }, 1500);
});

window.addEventListener('load', () => {
  lastScrollY = window.pageYOffset;
  setTimeout(updateQuestVisuals, 100);
});
window.addEventListener('resize', updateQuestVisuals);
window.addEventListener('scroll', updateQuestVisuals);
</script>

</body>
</html>
