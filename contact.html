<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>contact — press for goblins</title>
<meta name="description" content="contact page for press for goblins — retro pixel/neon style">

<!-- Font preload for performance -->
<link rel="preload" href="fonts/PressStart2P-Regular.woff2?v=30" as="font" type="font/woff2" crossorigin>

<style>
  @font-face {
    font-family: 'PressStart2P';
    src: url('fonts/PressStart2P-Regular.woff2?v=30') format('woff2'),
         url('fonts/PressStart2P-Regular.woff?v=30') format('woff'),
         url('fonts/PressStart2P-Regular.ttf?v=30') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  * { box-sizing: border-box; }

  body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: rgba(128,128,128,0.05); /* slightly transparent grey */
    font-family: 'PressStart2P', monospace;
    text-align: center;
    color: rgba(255,255,255,0.8);
  }

  h1 { font-size: clamp(1.8rem, 8vw, 3rem); margin-bottom: 2rem; }

  form {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    width: 100%;
    max-width: 420px;
  }

  .field-group {
    width: 100%;
    padding: 0.8rem 1rem;
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 12px;
  }

  textarea {
    font-family: 'PressStart2P', monospace;
    font-size: 0.85rem;
    width: 100%;
    background: transparent;
    border: none;
    color: #7bbf7b;
    outline: none;
    resize: none;
    line-height: 1.4;
  }

  .placeholder-text {
    font-family: 'PressStart2P', monospace;
    font-size: 0.85rem;
    color: rgba(255,255,255,0.3);
  }

  button[type="submit"] {
    font-family: 'PressStart2P', monospace;
    font-size: 1.6rem;
    padding: 0.9rem 2.2rem;
    background: transparent;
    border: none;
    color: #7bbf7b;
    cursor: pointer;
    opacity: 1;
  }

  .sent-msg {
    font-family: 'PressStart2P', monospace;
    color: #7bbf7b;
    margin-top: 1rem;
    font-size: 0.75rem;
    line-height: 1.6;
    display: none;
  }

  /* Footer nav bar */
  .footer-nav {
    position: fixed;
    bottom: calc(1rem + env(safe-area-inset-bottom));
    width: 100%;
    display: flex;
    justify-content: space-around;
    max-width: 600px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
  }

  .footer-nav img.contact { cursor: default; pointer-events: none; }
  .footer-nav .active-dot {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: #7bbf7b;
    bottom: -0.5rem;
    left: 50%;
    transform: translateX(-50%);
  }

  @media(max-width:480px){
    h1{font-size: clamp(1.4rem,7vw,2.4rem);}
    textarea{font-size:0.75rem;}
    button{font-size:1.2rem; padding:0.8rem 1.8rem;}
    .footer-nav img{width:44px;height:44px;}
  }
</style>
</head>
<body>

<h1>contact</h1>

<form id="contact-form" action="https://formspree.io/f/mblndezr" method="POST" novalidate>
  <div class="field-group" data-field="name">
    <textarea name="name" rows="1" placeholder="name"></textarea>
  </div>
  <div class="field-group" data-field="email">
    <textarea name="email" rows="1" placeholder="email"></textarea>
  </div>
  <div class="field-group" data-field="message">
    <textarea name="message" rows="5" placeholder="message"></textarea>
  </div>
  <button type="submit">send</button>
</form>

<div class="sent-msg" id="sent-msg">the goblins will see you soon</div>

<nav class="footer-nav" aria-label="Main navigation">
  <div class="nav-item">
    <a href="index.html"><img src="images/home.png" alt="Home"></a>
  </div>
  <div class="nav-item">
    <a href="about.html"><img src="images/about.png" alt="About"></a>
  </div>
  <div class="nav-item">
    <img src="images/contact.png" class="contact" alt="Contact - Current page">
    <div class="active-dot"></div>
  </div>
</nav>

<script>
const form = document.getElementById('contact-form');
const sentMsg = document.getElementById('sent-msg');

form.addEventListener('submit', async function(e){
  e.preventDefault();
  let error = false;

  form.querySelectorAll('textarea').forEach(field => {
    if(!field.value.trim()) error = true;
  });
  if(error) return;

  const data = new FormData(form);
  const response = await fetch(form.action, {
    method: form.method,
    body: data,
    headers: { 'Accept': 'application/json' }
  });

  if(response.ok){
    sentMsg.style.display = 'block';
    form.reset();
  }
});

// page transition for nav links
const navLinks=document.querySelectorAll('.footer-nav a');
navLinks.forEach(link=>{
  link.addEventListener('click',(e)=>{
    e.preventDefault();
    window.location.href=link.getAttribute('href');
  });
});
</script>

</body>
</html>
